import os
from kaggle.api.kaggle_api_extended import KaggleApi
import pandas as pd

# Step 1: Authenticate using Kaggle API
api = KaggleApi()
api.authenticate()

# Step 2: Dataset info
dataset_name = "sahilislam007/letterbox-movie-classification-dataset"
save_dir = "data/letterbox"

# Step 3: Download and unzip
os.makedirs(save_dir, exist_ok=True)

api.dataset_download_files(dataset=dataset_name, path=save_dir, unzip=True)
print(f"âœ… Download complete. Files saved to: {save_dir}")

# Step 4: Load the dataset
csv_file = os.path.join(save_dir, "Letterbox Movie Classification Dataset.csv")

if os.path.exists(csv_file):
    df = pd.read_csv(csv_file)
    print("âœ… CSV loaded successfully.")
    print("ğŸ” Preview:")
    print(df.head())
else:
    print("âŒ CSV file not found!")
